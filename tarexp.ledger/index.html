
<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>tarexp.ledger module &#8212; TARexp  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=1c6b4a1a" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=df4b10f6"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'tarexp.ledger';</script>
    <link rel="index" title="Index" href="../genindex/" />
    <link rel="search" title="Search" href="../search/" />
    <link rel="next" title="tarexp.util module" href="../tarexp.util/" />
    <link rel="prev" title="tarexp.experiments module" href="../tarexp.experiments/" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search/"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="../">
  
  
  
  
  
  
    <p class="title logo__title">TARexp  documentation</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../started/">
                        Get Started
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../modules/">
                        API Documentation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../example/">
                        Examples
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../references/">
                        References
                      </a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../started/">
                        Get Started
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../modules/">
                        API Documentation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../example/">
                        Examples
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../references/">
                        References
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../tarexp/">tarexp package</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../tarexp.component/">tarexp.component package</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../tarexp.component.base/">tarexp.component.base module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tarexp.component.labeler/">tarexp.component.labeler module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tarexp.component.ranker/">tarexp.component.ranker module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tarexp.component.sampler/">tarexp.component.sampler module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tarexp.component.stopping/">tarexp.component.stopping module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../tarexp.helper/">tarexp.helper package</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../tarexp.helper.pandas_tools/">tarexp.helper.pandas_tools module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tarexp.helper.plotting/">tarexp.helper.plotting module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tarexp.base/">tarexp.base module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tarexp.dataset/">tarexp.dataset module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tarexp.evaluation/">tarexp.evaluation module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tarexp.experiments/">tarexp.experiments module</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">tarexp.ledger module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tarexp.util/">tarexp.util module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tarexp.workflow/">tarexp.workflow module</a></li>
</ul>
</li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../modules/" class="nav-link">tarexp</a></li>
    
    
    <li class="breadcrumb-item"><a href="../tarexp/" class="nav-link">tarexp package</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">tarexp.ledger module</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="module-tarexp.ledger">
<span id="tarexp-ledger-module"></span><h1>tarexp.ledger module<a class="headerlink" href="#module-tarexp.ledger" title="Permalink to this heading">#</a></h1>
<p>Any aspect of the history of a batch-based workflow can, if necessary, be reproduced from a record of
which documents were labeled on which training rounds (including any initial seed round).
The <a class="reference internal" href="#tarexp.ledger.Ledger" title="tarexp.ledger.Ledger"><code class="xref py py-class docutils literal notranslate"><span class="pre">tarexp.ledger.Ledger</span></code></a> instance records this state in memory, and
writes it to disk at user-specified intervals to enable restarts (specified in <a class="reference internal" href="../tarexp.workflow/#tarexp.workflow.Workflow" title="tarexp.workflow.Workflow"><code class="xref py py-class docutils literal notranslate"><span class="pre">tarexp.workflow.Workflow</span></code></a>).</p>
<p>The persisted ledger for a complete run can be used to execute <code class="docutils literal notranslate"><span class="pre">TARexp</span></code> in <em>frozen</em> mode (<a class="reference internal" href="#tarexp.ledger.FrozenLedger" title="tarexp.ledger.FrozenLedger"><code class="xref py py-class docutils literal notranslate"><span class="pre">tarexp.ledger.FrozenLedger</span></code></a>)
where no batch selection, training, or scoring is done.  Frozen mode supports efficient testing of new components that
do not change training or scoring, e.g., non-interventional stopping rules <a class="footnote-reference brackets" href="#id2" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>, effectiveness estimation methods, etc.
Evaluating stopping rules for two-phase reviews also requires persisting scores of all documents at the end of each
training round, an option the user can specify.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id2" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>David D. Lewis, Eugene Yang, and Ophir Frieder. “Certifying One-Phase Technology-Assisted Reviews.”
<em>Proceedings of the 30th ACM International Conference on Information &amp; Knowledge Management</em>. 2021.
<a class="reference external" href="https://arxiv.org/abs/2108.12746">https://arxiv.org/abs/2108.12746</a></p>
</aside>
</aside>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="tarexp.ledger.Ledger">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tarexp.ledger.</span></span><span class="sig-name descname"><span class="pre">Ledger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n_docs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/eugene-yang/tarexp/blob/main/tarexp/ledger.py#L26-L157"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tarexp.ledger.Ledger" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="../tarexp.base/#tarexp.base.Savable" title="tarexp.base.Savable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Savable</span></code></a></p>
<p>A <a class="reference internal" href="#tarexp.ledger.Ledger" title="tarexp.ledger.Ledger"><code class="xref py py-class docutils literal notranslate"><span class="pre">Ledger</span></code></a> records the progress of a TAR run.</p>
<p>Specifically, we record (1) the review result of each document and (2) the round each document being reviewed.
Control set documents are marked as reviewed at round <cite>-1</cite> and seed documents are at round <cite>0</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>n_docs</strong> – Number of documents in the collection.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="tarexp.ledger.Ledger.createControl">
<span class="sig-name descname"><span class="pre">createControl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/eugene-yang/tarexp/blob/main/tarexp/ledger.py#L45-L52"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tarexp.ledger.Ledger.createControl" title="Permalink to this definition">#</a></dt>
<dd><p>Create a control set
Plese refer to <code class="xref py py-meth docutils literal notranslate"><span class="pre">annoate()</span></code> for the argument documentation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tarexp.ledger.Ledger.annotate">
<span class="sig-name descname"><span class="pre">annotate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/eugene-yang/tarexp/blob/main/tarexp/ledger.py#L54-L84"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tarexp.ledger.Ledger.annotate" title="Permalink to this definition">#</a></dt>
<dd><p>Record a round of annotation(review).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Dictionary</strong> – If only one positional argument is provided, it should be a dictionary with keys being the document id and
values being the corresponding labels.</p></li>
<li><p><strong>Pair</strong> – If two positional arguments are provided, the first one is treated as the documents and the second one is
the corresponding labels. The length of the two lists are required be the same.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of documents being annotated at this round.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tarexp.ledger.Ledger.getReviewedIds">
<span class="sig-name descname"><span class="pre">getReviewedIds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">round</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">np.ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/eugene-yang/tarexp/blob/main/tarexp/ledger.py#L86-L88"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tarexp.ledger.Ledger.getReviewedIds" title="Permalink to this definition">#</a></dt>
<dd><p>Get the list of document id that are reviewed at <code class="docutils literal notranslate"><span class="pre">round</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="tarexp.ledger.Ledger.control_mask">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">control_mask</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">np.ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">np.nan</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#tarexp.ledger.Ledger.control_mask" title="Permalink to this definition">#</a></dt>
<dd><p>The mask of the size of the collection for the control documents.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="tarexp.ledger.Ledger.n_rounds">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_rounds</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#tarexp.ledger.Ledger.n_rounds" title="Permalink to this definition">#</a></dt>
<dd><p>Number of rounds have executed</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="tarexp.ledger.Ledger.n_docs">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_docs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#tarexp.ledger.Ledger.n_docs" title="Permalink to this definition">#</a></dt>
<dd><p>Number of docuemnts in the collection.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="tarexp.ledger.Ledger.n_annotated">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_annotated</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#tarexp.ledger.Ledger.n_annotated" title="Permalink to this definition">#</a></dt>
<dd><p>Total number of documents have been reviewed.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="tarexp.ledger.Ledger.n_pos_annotated">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_pos_annotated</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#tarexp.ledger.Ledger.n_pos_annotated" title="Permalink to this definition">#</a></dt>
<dd><p>Total number of documents have been labeled as positive (relevant).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="tarexp.ledger.Ledger.n_neg_annotated">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_neg_annotated</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#tarexp.ledger.Ledger.n_neg_annotated" title="Permalink to this definition">#</a></dt>
<dd><p>Total number of documents have been labeled as negative (non-relevant).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="tarexp.ledger.Ledger.annotated">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">annotated</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">np.ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#tarexp.ledger.Ledger.annotated" title="Permalink to this definition">#</a></dt>
<dd><p>The mask of the size of the collection for the annotated (reviewed) documents.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="tarexp.ledger.Ledger.annotation">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">annotation</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">np.ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">np.nan</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#tarexp.ledger.Ledger.annotation" title="Permalink to this definition">#</a></dt>
<dd><p>List of the annotations. Documents that have not been reviewed are recorded as <code class="docutils literal notranslate"><span class="pre">np.nan</span></code>.
Control documents are considered <strong>not annotated</strong>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="tarexp.ledger.Ledger.isDone">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">isDone</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#tarexp.ledger.Ledger.isDone" title="Permalink to this definition">#</a></dt>
<dd><p>Whether all documents have been reviewed (including control docuemnts.).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tarexp.ledger.Ledger.getAnnotationCounts">
<span class="sig-name descname"><span class="pre">getAnnotationCounts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/eugene-yang/tarexp/blob/main/tarexp/ledger.py#L139-L144"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tarexp.ledger.Ledger.getAnnotationCounts" title="Permalink to this definition">#</a></dt>
<dd><p>Get a list of dictionaries that records the number of positive and negative documents reviewed in each round.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tarexp.ledger.Ledger.freeze">
<span class="sig-name descname"><span class="pre">freeze</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#tarexp.ledger.FrozenLedger" title="tarexp.ledger.FrozenLedger"><span class="pre">FrozenLedger</span></a></span></span><a class="reference external" href="https://github.com/eugene-yang/tarexp/blob/main/tarexp/ledger.py#L146-L148"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tarexp.ledger.Ledger.freeze" title="Permalink to this definition">#</a></dt>
<dd><p>Get a frozen version of the current ledger.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tarexp.ledger.Ledger.freeze_at">
<span class="sig-name descname"><span class="pre">freeze_at</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">round</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#tarexp.ledger.FrozenLedger" title="tarexp.ledger.FrozenLedger"><span class="pre">FrozenLedger</span></a></span></span><a class="reference external" href="https://github.com/eugene-yang/tarexp/blob/main/tarexp/ledger.py#L150-L157"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tarexp.ledger.Ledger.freeze_at" title="Permalink to this definition">#</a></dt>
<dd><p>Get a frozen version of the ledger at <code class="docutils literal notranslate"><span class="pre">round</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="tarexp.ledger.FrozenLedger">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tarexp.ledger.</span></span><span class="sig-name descname"><span class="pre">FrozenLedger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">org_ledger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#tarexp.ledger.Ledger" title="tarexp.ledger.Ledger"><span class="pre">Ledger</span></a></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/eugene-yang/tarexp/blob/main/tarexp/ledger.py#L159-L178"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tarexp.ledger.FrozenLedger" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tarexp.ledger.Ledger" title="tarexp.ledger.Ledger"><code class="xref py py-class docutils literal notranslate"><span class="pre">Ledger</span></code></a></p>
<p>A frozen ledger prohibits the record being modified.
The underlying record (implemented as a numpy array) is locked as not writable.</p>
<p>All methods and properties of <a class="reference internal" href="#tarexp.ledger.Ledger" title="tarexp.ledger.Ledger"><code class="xref py py-class docutils literal notranslate"><span class="pre">Ledger</span></code></a> are supported except <a class="reference internal" href="#tarexp.ledger.Ledger.annotate" title="tarexp.ledger.Ledger.annotate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tarexp.ledger.Ledger.annotate()</span></code></a> which
will raise a <code class="docutils literal notranslate"><span class="pre">FrozenInstanceError</span></code> when invoked.</p>
<dl class="py method">
<dt class="sig sig-object py" id="tarexp.ledger.FrozenLedger.annotate">
<span class="sig-name descname"><span class="pre">annotate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/eugene-yang/tarexp/blob/main/tarexp/ledger.py#L171-L173"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tarexp.ledger.FrozenLedger.annotate" title="Permalink to this definition">#</a></dt>
<dd><p>Not supported.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="tarexp.ledger.FrozenLedger.n_rounds">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_rounds</span></span><a class="headerlink" href="#tarexp.ledger.FrozenLedger.n_rounds" title="Permalink to this definition">#</a></dt>
<dd><p>Number of rounds this frozen ledger have recorded.</p>
</dd></dl>

</dd></dl>

</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../tarexp.experiments/"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">tarexp.experiments module</p>
      </div>
    </a>
    <a class="right-next"
       href="../tarexp.util/"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">tarexp.util module</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">

  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tarexp.ledger.Ledger"><code class="docutils literal notranslate"><span class="pre">Ledger</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tarexp.ledger.Ledger.createControl"><code class="docutils literal notranslate"><span class="pre">Ledger.createControl()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tarexp.ledger.Ledger.annotate"><code class="docutils literal notranslate"><span class="pre">Ledger.annotate()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tarexp.ledger.Ledger.getReviewedIds"><code class="docutils literal notranslate"><span class="pre">Ledger.getReviewedIds()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tarexp.ledger.Ledger.control_mask"><code class="docutils literal notranslate"><span class="pre">Ledger.control_mask</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tarexp.ledger.Ledger.n_rounds"><code class="docutils literal notranslate"><span class="pre">Ledger.n_rounds</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tarexp.ledger.Ledger.n_docs"><code class="docutils literal notranslate"><span class="pre">Ledger.n_docs</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tarexp.ledger.Ledger.n_annotated"><code class="docutils literal notranslate"><span class="pre">Ledger.n_annotated</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tarexp.ledger.Ledger.n_pos_annotated"><code class="docutils literal notranslate"><span class="pre">Ledger.n_pos_annotated</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tarexp.ledger.Ledger.n_neg_annotated"><code class="docutils literal notranslate"><span class="pre">Ledger.n_neg_annotated</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tarexp.ledger.Ledger.annotated"><code class="docutils literal notranslate"><span class="pre">Ledger.annotated</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tarexp.ledger.Ledger.annotation"><code class="docutils literal notranslate"><span class="pre">Ledger.annotation</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tarexp.ledger.Ledger.isDone"><code class="docutils literal notranslate"><span class="pre">Ledger.isDone</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tarexp.ledger.Ledger.getAnnotationCounts"><code class="docutils literal notranslate"><span class="pre">Ledger.getAnnotationCounts()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tarexp.ledger.Ledger.freeze"><code class="docutils literal notranslate"><span class="pre">Ledger.freeze()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tarexp.ledger.Ledger.freeze_at"><code class="docutils literal notranslate"><span class="pre">Ledger.freeze_at()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tarexp.ledger.FrozenLedger"><code class="docutils literal notranslate"><span class="pre">FrozenLedger</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tarexp.ledger.FrozenLedger.annotate"><code class="docutils literal notranslate"><span class="pre">FrozenLedger.annotate()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tarexp.ledger.FrozenLedger.n_rounds"><code class="docutils literal notranslate"><span class="pre">FrozenLedger.n_rounds</span></code></a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../_sources/tarexp.ledger.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2022, Eugene Yang.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.1.2.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.14.4.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>